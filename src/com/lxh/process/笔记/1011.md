## 网络编程

![image-20221011114558139](C:\Users\lixuanhui\AppData\Roaming\Typora\typora-user-images\image-20221011114558139.png)

![image-20221011114755017](C:\Users\lixuanhui\AppData\Roaming\Typora\typora-user-images\image-20221011114755017.png)

1. 多线程下的单例模式

   1. 同步代码块
   2. 防止指令重排

2. 生产者和消费者

   ```java
   package com.lxh.process.day_25;
   
   /**
    * @author lixuanhui
    * @date 2022年 10月11日 10:41:54
    */
   public class ProduceConsume {
       public static void main(String[] args) {
           Factory factory = new Factory();
           Thread t1 = new ProduceTest(factory);
           Thread t2 = new Thread(new ConsumeTest(factory));
           t1.start();
           t2.start();
       }
   }
   
   class ProduceTest extends Thread {
       Factory factory;
       int count = 0;
   
       public ProduceTest() {
       }
   
       public ProduceTest(Factory factory) {
           this.factory = factory;
       }
   
       @Override
       public void run() {
           for (int i = 0; i < 20; i++) {
               factory.Pro((char) (count + 'a'));
               count++;
           }
       }
   }
   
   class ConsumeTest implements Runnable {
       Factory factory;
   
       public ConsumeTest() {
       }
   
       public ConsumeTest(Factory factory) {
           this.factory = factory;
       }
   
       @Override
       public void run() {
           for (int i = 0; i < 20; i++) {
               factory.Con();
           }
       }
   }
   
   class Factory {
       char[] data = new char[10];
       int count = 0;
   
       public synchronized void Pro(char c) {
           if (count == data.length) {
               try {
                   this.wait();
               } catch (InterruptedException e) {
                   e.printStackTrace();
               }
           }
           if (count == 0) {
               this.notifyAll();
           }
           data[count] = c;
           count++;
           System.out.println("生产了" + c + "，目前有" + count + "个产品");
       }
   
       public synchronized void Con() {
           if (count == 0) {
               try {
                   this.wait();
               } catch (InterruptedException e) {
                   e.printStackTrace();
               }
           }
           if (count < data.length) {
               this.notifyAll();
           }
           count--;
           char c = data[count];
           System.out.println("消费了" + c + "，目前有" + count + "个产品");
       }
   }
   
   ```

3. 网络编程的概述

   1. 如何快速定位网络上的一台计算机，和他特定的服务/引用
      - IP—127.0.0.1，localhost
        - ipv4
        - ipv6
      - 端口号
        - 0~65535
        - HTTP 80
        - Tomcat 8080
        - Mysql 3306
        - Redis 6379
      - IP+端口号 = Scoket(网络套接字)
      - 域名= IP + 端口号的一个映射
   2. 如何快速高效的进行数据传输